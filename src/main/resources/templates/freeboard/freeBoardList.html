<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>모닥불 게시판</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet" th:href="@{/css/header.css}">
<link rel="stylesheet" th:href="@{/css/freeBoardList.css}">
<!-- CSS 파일 링크 -->
<link rel="stylesheet" th:href="@{/css/footer.css}">
</head>
<body>
	<!-- 헤더 영역 -->
	<header th:replace="~{fragments/header :: header}"></header>

	<!-- 메인 콘텐츠 영역 -->
	<section class="container my-5">
		<div class="text-center mb-4">
			<h2>게시판</h2>
			<a th:href="@{/freeboard/freeBoardWrite}"
				class="btn btn-success mt-2">글 등록</a>
			<!-- 글 등록 버튼, 제목 아래로 이동 -->
		</div>

		<div id="postList">
			<div th:each="post : ${list}" class="card mb-3">
				<th:block th:if="${post != null}">
					<th:block th:each="image : ${post.images}">
						<p th:text="${image.saveFileName}"></p>
						<!-- 파일 이름을 출력 -->
					</th:block>
				</th:block>
				<img th:if="${post.images != null and post.images.size() > 0}"
					th:src="@{/upload/{saveFileName}(saveFileName=${post.images[0].saveFileName})}"
					class="card-img-top" alt="게시글 사진"
					style="height: 300px; object-fit: cover;"
					th:alt="${post.images[0].fileName}">
				<div class="card-body">
					<h5 class="card-title" th:text="${post.title}">게시글 제목</h5>
					<p class="card-text" th:text="${post.content}">게시글 내용</p>
					<a th:href="@{/freeboard/freeBoardView(id=${post.id})}"
						class="btn btn-success">자세히 보기</a>
				</div>
			</div>
		</div>

		<div id="loading" class="text-center my-4" style="display: none;">
			<p>Loading...</p>
		</div>
	</section>

	<!-- 푸터 영역 -->
	<footer th:replace="~{fragments/footer :: footer}"></footer>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
	<script src="/js/scripts.js"></script>
	<!-- JS 파일 링크 -->
</body>
</html>
