<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지</title>
    <link rel="stylesheet" href="/css/myPage.css">
</head>
<body>
<div class="container">
    <!-- 사이드바 -->
    <aside class="sidebar">
        <div class="profile">
            <img src="/images/1..png" alt="프로필 이미지">
            <h2 th:text="${member.userName}">사용자 이름</h2>
        </div>
        <nav class="menu">
            <ul>
                <li><a href="/mypage/reservations">예약 내역</a></li>
                <li><a href="/mypage/reviews">내 리뷰</a></li>
                <li><a href="/mypage/personalInfo">회원 정보 수정</a></li> <!-- 개인정보 수정 링크 추가 -->
                <li><a href="/logout">로그아웃</a></li>
            </ul>
        </nav>
    </aside>

    <!-- 메인 콘텐츠 -->
    <section class="main-content">
        <header>
            <h1>환영합니다, <span th:text="${member.userName}">사용자</span>님!</h1>
        </header>

        <div class="content">
            <!-- 예약 섹션 -->
            <div class="reservations">
                <h2>예약 내역</h2>
                <div class="reservation-list">
                    <div class="reservation-item" th:each="reservation : ${reservations}">
                        <h3 th:text="${reservation.campingSite}">캠핑장 이름</h3>
                        <p>날짜: <span th:text="${reservation.date}">YYYY-MM-DD</span></p>
                        <p>상태: <span th:text="${reservation.status}">확인됨</span></p>
                        <a th:href="@{/reservation/{id}(id=${reservation.id})}" class="btn">자세히 보기</a>
                        <button th:onclick="'cancelReservation(' + ${reservation.id} + ')'" class="btn cancel-btn">취소</button>
                    </div>
                </div>
            </div>

            <!-- 리뷰 섹션 -->
            <div class="reviews">
                <h2>내 리뷰</h2>
                <div class="review-list">
                    <div class="review-item" th:each="review : ${reviews}">
                        <h3 th:text="${review.campingSite}">캠핑장 이름</h3>
                        <p th:text="${review.content}">리뷰 내용이 여기 들어갑니다...</p>
                        <button class="btn">리뷰 수정</button>
                    </div>
                </div>
            </div>

            <!-- 결제 내역 섹션 -->
            <div class="payments">
                <h2>결제 내역</h2>
                <table>
                    <thead>
                    <tr>
                        <th>날짜</th>
                        <th>금액</th>
                        <th>결제 방법</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="payment : ${payments}">
                        <td th:text="${payment.date}">YYYY-MM-DD</td>
                        <td th:text="${payment.amount}">$100</td>
                        <td th:text="${payment.method}">신용카드</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</div>
</body>
</html>
